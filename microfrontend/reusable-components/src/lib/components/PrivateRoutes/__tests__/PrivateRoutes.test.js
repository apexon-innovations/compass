import React from 'react'
import { render, screen } from '@testing-library/react'
import PrivateRoutes from '../PrivateRoutes'
import { setIntoLocalStorage } from '../../../utils/loginFunction'

describe('PrivateRoutes', () => {
  it('render component', () => {
    setIntoLocalStorage({
      accessToken:
        'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c3IiOiJkZXMuc2VydmljZUBhcGV4b24uY29tIiwiZXhwIjoxNjgzMTgyNTkzLCJ3ZGd0IjoicG1vX292ZXJ2aWV3X3N0YXR1cyxwbW9fb3ZlcnZpZXdfbWVtYmVyU3RhdHVzLHBtb19vdmVydmlld19ibG9ja2VycyxwbW9fb3ZlcnZpZXdfZWZmb3J0VmFyaWFuY2UscG1vX292ZXJ2aWV3X2Jhcm9tZXRlcixwbW9fb3ZlcnZpZXdfY29tcGxpYW5jZSxwbW9fb3ZlcnZpZXctZGVmZWN0c1RvdGFsQ291bnQscG1vX292ZXJ2aWV3X2RlZmVjdHNMb2dnZWRWc0FjY2VwdGVkLHBtb19vdmVydmlld19zcHJpbnRDYWxlbmRhclZpZXcscG1vX292ZXJ2aWV3X3Byb2plY3RIZWFsdGhNZXRyaWNzLHBtb19vcGVyYXRpb25hbF9zdG9yeVJlcG9ydHMscG1vX29wZXJhdGlvbmFsX3N0b3J5UG9pbnRzRGVsaXZlcmVkVnNBY2NlcHRlZCxwbW9fb3BlcmF0aW9uYWxfbnBzLHBtb19vcGVyYXRpb25hbF9iaWxsaW5nLHBtb19vcGVyYXRpb25hbF9zcHJpbnRCdXJuRG93bkNoYXJ0LHBtb19vcGVyYXRpb25hbF9zYXlEb1JhdGlvLHBtb19zdHJhdGVnaWNfcHJzTWFuYWdlbWVudCxwbW9fc3RyYXRlZ2ljX3N1Ym1pdHRlck1ldHJpY3MscG1vX3N0cmF0ZWdpY19yZXZpZXdlcnNNZXRyaWNzLHBtb19zdHJhdGVnaWNfY29sbGFib3JhdGlvbnNNZXRyaWNzLHBtb19zdHJhdGVnaWNfcXVhbGl0eU1ldHJpY3MscG1vX3N0cmF0ZWdpY19jb21wbGlhbmNlLHBtb19zdHJhdGVnaWNfcmVwb3NpdG9yeUluc3BlY3RvcixwbW9fc3RyYXRlZ2ljX2NvZGVDaHVybkFuZExlZ2FjeUZhY3RvcixwbW9fc3RyYXRlZ2ljX21lbWJlcndpc2VBY3Rpdml0eU1ldHJpY3MscG1vX3N0cmF0ZWdpY192aW9sYXRpb24scG1vX3N0cmF0ZWdpY19zY29yZSxwbW9fc3RyYXRlZ2ljX3Jpc2sscG1vX3N0cmF0ZWdpY19zZWN1cml0eVNjb3JlLGNsaWVudF9vcGVyYXRpb25hbF9wcm9kdWN0SGVhbHRoT3ZlcnZpZXcsY2xpZW50X29wZXJhdGlvbmFsX29wZW5EZWZlY3RzU3VtbWFyeSxjbGllbnRfb3BlcmF0aW9uYWxfc3RvcnlQb2ludHNEZWZlY3RzUmF0aW8sY2xpZW50X29wZXJhdGlvbmFsX3Byb2plY3RDb21wbGV0aW9uVHJlbmRzLGNsaWVudF9vcGVyYXRpb25hbF9zdG9yeVBvaW50c0RlbGl2ZXJ5VHJlbmRzLGNsaWVudF9vcGVyYXRpb25hbF92ZWxvY2l0eVRyZW5kcyxjbGllbnRfYnVzaW5lc3NfY29kZUhlYWx0aCxjbGllbnRfb3BlcmF0aW9uYWxfZGVmZWN0QWdlaW5nLHBkb19vdmVyYWxsSGVhbHRoIiwicm9sIjoiUFJPSkVDVF9NQU5BR0VSLFBST0pFQ1RfQ0xJRU5ULFBETyJ9.hn93PepXXvdO-qdz35sajVX1-j6uC58jSB83kCSGve8',
      refreshToken:
        'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c3IiOiJkZXMuc2VydmljZUBhcGV4b24uY29tIiwiZXhwIjoxNjgzMjAyMzkzLCJ3ZGd0IjoicG1vX292ZXJ2aWV3X3N0YXR1cyxwbW9fb3ZlcnZpZXdfbWVtYmVyU3RhdHVzLHBtb19vdmVydmlld19ibG9ja2VycyxwbW9fb3ZlcnZpZXdfZWZmb3J0VmFyaWFuY2UscG1vX292ZXJ2aWV3X2Jhcm9tZXRlcixwbW9fb3ZlcnZpZXdfY29tcGxpYW5jZSxwbW9fb3ZlcnZpZXctZGVmZWN0c1RvdGFsQ291bnQscG1vX292ZXJ2aWV3X2RlZmVjdHNMb2dnZWRWc0FjY2VwdGVkLHBtb19vdmVydmlld19zcHJpbnRDYWxlbmRhclZpZXcscG1vX292ZXJ2aWV3X3Byb2plY3RIZWFsdGhNZXRyaWNzLHBtb19vcGVyYXRpb25hbF9zdG9yeVJlcG9ydHMscG1vX29wZXJhdGlvbmFsX3N0b3J5UG9pbnRzRGVsaXZlcmVkVnNBY2NlcHRlZCxwbW9fb3BlcmF0aW9uYWxfbnBzLHBtb19vcGVyYXRpb25hbF9iaWxsaW5nLHBtb19vcGVyYXRpb25hbF9zcHJpbnRCdXJuRG93bkNoYXJ0LHBtb19vcGVyYXRpb25hbF9zYXlEb1JhdGlvLHBtb19zdHJhdGVnaWNfcHJzTWFuYWdlbWVudCxwbW9fc3RyYXRlZ2ljX3N1Ym1pdHRlck1ldHJpY3MscG1vX3N0cmF0ZWdpY19yZXZpZXdlcnNNZXRyaWNzLHBtb19zdHJhdGVnaWNfY29sbGFib3JhdGlvbnNNZXRyaWNzLHBtb19zdHJhdGVnaWNfcXVhbGl0eU1ldHJpY3MscG1vX3N0cmF0ZWdpY19jb21wbGlhbmNlLHBtb19zdHJhdGVnaWNfcmVwb3NpdG9yeUluc3BlY3RvcixwbW9fc3RyYXRlZ2ljX2NvZGVDaHVybkFuZExlZ2FjeUZhY3RvcixwbW9fc3RyYXRlZ2ljX21lbWJlcndpc2VBY3Rpdml0eU1ldHJpY3MscG1vX3N0cmF0ZWdpY192aW9sYXRpb24scG1vX3N0cmF0ZWdpY19zY29yZSxwbW9fc3RyYXRlZ2ljX3Jpc2sscG1vX3N0cmF0ZWdpY19zZWN1cml0eVNjb3JlLGNsaWVudF9vcGVyYXRpb25hbF9wcm9kdWN0SGVhbHRoT3ZlcnZpZXcsY2xpZW50X29wZXJhdGlvbmFsX29wZW5EZWZlY3RzU3VtbWFyeSxjbGllbnRfb3BlcmF0aW9uYWxfc3RvcnlQb2ludHNEZWZlY3RzUmF0aW8sY2xpZW50X29wZXJhdGlvbmFsX3Byb2plY3RDb21wbGV0aW9uVHJlbmRzLGNsaWVudF9vcGVyYXRpb25hbF9zdG9yeVBvaW50c0RlbGl2ZXJ5VHJlbmRzLGNsaWVudF9vcGVyYXRpb25hbF92ZWxvY2l0eVRyZW5kcyxjbGllbnRfYnVzaW5lc3NfY29kZUhlYWx0aCxjbGllbnRfb3BlcmF0aW9uYWxfZGVmZWN0QWdlaW5nLHBkb19vdmVyYWxsSGVhbHRoIiwicm9sIjoiUFJPSkVDVF9NQU5BR0VSLFBST0pFQ1RfQ0xJRU5ULFBETyJ9.c7MZKrZHXga3IdGJZajwaTa31dQOPsP6BzccXlnbgoY',
      expiresWithin: 30,
    })
    const AComponent = () => <div>AComponent</div>
    render(<PrivateRoutes children={<AComponent />} requiredRoles={['PROJECT_MANAGER']} />)
    expect(screen.getByText('AComponent')).toBeTruthy()
  })
})
